<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <title>FireMemory - Etapa 2</title>
  <link rel="stylesheet" href="style.css">
      user-select: none;
      position: relative;
      padding: 4px;
      text-align: center;
      word-break: break-word;
    }
    .card.flipped, .card.matched {
      font-size: 1.1em;
      line-height: 1.1;
      padding: 4px;
      white-space: normal;
      overflow-wrap: break-word;
      word-break: break-word;
      display: flex;
      align-items: center;
      justify-content: center;
      height: 100%;
      transition: none;
      transform: none;
      box-shadow: 0 4px 16px #0002;
      background: #d0ebff;
      color: #222;
    }
    .card.matched {
      background: #b2f2bb;
      color: #222;
      cursor: default;
    }
    .card.flipped, .card.matched {
      font-size: 13px;
      line-height: 1.1;
      padding: 4px;
      white-space: normal;
      overflow-wrap: break-word;
      word-break: break-word;
      display: flex;
      align-items: center;
      justify-content: center;
      height: 100%;
      /* Remove transi√ß√£o e efeito ao virar */
      transition: none;
      transform: none;
      box-shadow: 0 4px 16px #0002;
    }
    .card.flipped, .card.matched {
      font-size: 13px;
      line-height: 1.1;
      padding: 4px;
      white-space: normal;
      overflow-wrap: break-word;
      word-break: break-word;
      display: flex;
      align-items: center;
      justify-content: center;
      height: 100%;
    }
    .flipped { background-color: #2ecc71 !important; }
    .matched { background-color: #95a5a6 !important; cursor: default; }
    footer { margin-top: 40px; font-size: 12px; color: #888; }
  </style>
</head>
<body>
  <h1>Etapa 2 ‚Äì Pressupostos, Subentendidos e Fun√ß√µes da Linguagem</h1>
  <div id="explicacao" style="max-width:700px;margin:0 auto 20px auto;text-align:left;background:#fffbe7;border-radius:8px;padding:16px 20px 10px 20px;box-shadow:0 2px 8px #0001;font-size:15px;">
    <b>Como jogar:</b> Encontre os pares de cartas que relacionam <b>conceitos</b> e <b>explica√ß√µes/exemplos</b> sobre Pressupostos, Subentendidos e Fun√ß√µes da Linguagem.<br>
    <b>O que voc√™ vai aprender:</b> Identificar pressupostos, subentendidos e reconhecer as fun√ß√µes da linguagem em exemplos reais.<br>
    <b>Dica:</b> Clique nas cartas para revelar o conte√∫do e memorize as rela√ß√µes!
  </div>
  <div id="placar" style="margin-bottom:16px;font-size:16px;color:#2c3e50;"></div>
  <div class="grid" id="grid"></div>
  <div id="mensagem-final" style="display:none;margin:24px auto 0 auto;max-width:500px;background:#eaffea;border-radius:8px;padding:18px 20px 10px 20px;box-shadow:0 2px 8px #0001;font-size:18px;text-align:center;color:#207520;font-weight:bold;"></div>
  <div style="margin-top:18px;"><button id="reiniciar" style="display:none;padding:8px 18px;font-size:15px;border-radius:6px;border:none;background:#3498db;color:#fff;cursor:pointer;">Reiniciar Jogo</button></div>
  <script>
    const pairs = [
      ["üí¨ Pressuposto", "Informa√ß√£o impl√≠cita, pressuposta pelo falante, necess√°ria para o sentido. Ex: 'Jo√£o parou de fumar.' (pressup√µe que Jo√£o fumava antes)"],
      ["ü§î Subentendido", "Sentido sugerido, depende do contexto e da interpreta√ß√£o. Ex: 'Est√° calor aqui, n√£o?' (pode sugerir: abra a janela)"],
      ["üåç Fun√ß√£o Referencial", "Foco na informa√ß√£o, linguagem objetiva, transmite dados. Ex: not√≠cia, relat√≥rio."],
      ["üôã Fun√ß√£o Emotiva (Expressiva)", "Expressa emo√ß√µes, sentimentos ou opini√µes do emissor. Ex: 'Estou muito feliz hoje!'"] ,
      ["üëÇ Fun√ß√£o Conativa (Apelativa)", "Busca influenciar o receptor, dar ordens, pedidos, conselhos. Ex: 'Feche a porta, por favor.'"],
      ["üìû Fun√ß√£o F√°tica", "Testa, inicia, mant√©m ou encerra o canal de comunica√ß√£o. Ex: 'Al√¥?', 'Oi!', 'Tudo bem?'"],
      ["üî§ Fun√ß√£o Metalingu√≠stica", "A linguagem fala de si mesma, explica c√≥digos. Ex: 'O que significa a palavra 'verbo'?'."],
      ["üñãÔ∏è Fun√ß√£o Po√©tica", "Foco na forma, est√©tica da mensagem, uso de figuras de linguagem. Ex: poesia, slogan."],
    ];
    const grid = document.getElementById("grid");
    const placar = document.getElementById("placar");
    const mensagemFinal = document.getElementById("mensagem-final");
    const btnReiniciar = document.getElementById("reiniciar");

    function embaralhar(array) {
      return array.map(a => [Math.random(), a]).sort((a, b) => a[0] - b[0]).map(a => a[1]);
    }

    function iniciarJogo() {
      grid.innerHTML = "";
      mensagemFinal.style.display = "none";
      btnReiniciar.style.display = "none";
      let tentativas = 0;
      let acertos = 0;
      let totalPares = pairs.length;
      let first = null;
      let lock = false;

      // Gera cartas (emoji e texto)
      const allCards = [];
      pairs.forEach(pair => {
        allCards.push({ emoji: pair[0].split(' ')[0], text: pair[0] });
        allCards.push({ emoji: pair[0].split(' ')[0], text: pair[1] });
      });
      const cards = embaralhar(allCards).map(data => {
        const card = document.createElement("div");
        card.className = "card";
        card.textContent = data.emoji;
        card.dataset.text = data.text;
        card.dataset.emoji = data.emoji;
        grid.appendChild(card);
        return card;
      });

      function atualizarPlacar() {
        placar.innerHTML = `Tentativas: <b>${tentativas}</b> &nbsp; | &nbsp; Pares encontrados: <b>${acertos}/${totalPares}</b>`;
      }
      atualizarPlacar();

      cards.forEach(card => {
        card.addEventListener("click", () => {
          if (lock || card.classList.contains("matched") || card === first) return;
          card.textContent = card.dataset.text;
          card.classList.add("flipped");
          if (!first) {
            first = card;
          } else {
            tentativas++;
            atualizarPlacar();
            const isMatch = pairs.some(pair =>
              (pair[0] === first.dataset.text && pair[1] === card.dataset.text) ||
              (pair[1] === first.dataset.text && pair[0] === card.dataset.text)
            );
            if (isMatch) {
              first.classList.add("matched");
              card.classList.add("matched");
              acertos++;
              atualizarPlacar();
              if (acertos === totalPares) {
                setTimeout(() => {
                  mensagemFinal.innerHTML = `üéâ Parab√©ns! Voc√™ encontrou todos os pares!<br> Total de tentativas: <b>${tentativas}</b> <br><br> <span style='font-size:15px;'>Clique em Reiniciar para jogar novamente.</span>`;
                  mensagemFinal.style.display = "block";
                  btnReiniciar.style.display = "inline-block";
                }, 400);
              }
              first = null;
            } else {
              lock = true;
              setTimeout(() => {
                first.textContent = first.dataset.emoji;
                card.textContent = card.dataset.emoji;
                first.classList.remove("flipped");
                card.classList.remove("flipped");
                first = null;
                lock = false;
              }, 900);
            }
          }
        });
      });
    }
    iniciarJogo();
    btnReiniciar.onclick = iniciarJogo;
  </script>
</body>
  <footer>
    FireMemory &copy; 2025 - Desenvolvido para Rafael Almeida ‚Äì Projeto TDAH Estudo Interativo.
  </footer>
  <script src="script.js"></script>
</body>
</html>
