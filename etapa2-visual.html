<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Etapa 2 – Jogo com Emojis Iguais (Corrigido)</title>
  <style>
    body { font-family: Arial, sans-serif; background-color: #f9f9f9; text-align: center; padding: 20px; }
    h1 { color: #2c3e50; }
    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
      gap: 10px;
      max-width: 800px;
      margin: 20px auto;
    }
    .card {
      background: #ecf0f1;
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      height: 100px;
      font-size: 14px;
      cursor: pointer;
      position: relative;
      perspective: 1000px;
    }
    .inner-card {
      position: absolute;
      width: 100%;
      height: 100%;
      transition: transform 0.6s;
      transform-style: preserve-3d;
    }
    .card.flipped .inner-card {
      transform: rotateY(180deg);
    }
    .front, .back {
      position: absolute;
      width: 100%;
      height: 100%;
      backface-visibility: hidden;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 28px;
      border-radius: 8px;
    }
    .front {
      background: #3498db;
      color: white;
    }
    .back {
      background: #2ecc71;
      color: white;
      transform: rotateY(180deg);
      font-size: 14px;
      padding: 10px;
      text-align: center;
    }
    .matched .inner-card {
      pointer-events: none;
      opacity: 0.6;
    }
  </style>
</head>
<body>
  <h1>🧠 Etapa 2 – Jogo com Emojis Iguais (Corrigido)</h1>
  <div class="grid" id="grid"></div>
  <script>
    const contents = [
      { emoji: "🧠", text1: "Compreensão", text2: "Identifica informações explícitas no texto" },
      { emoji: "🔍", text1: "Interpretação", text2: "Depende de inferências e análise contextual" },
      { emoji: "✍️", text1: "Texto verbal", text2: "Forma oral ou escrita" },
      { emoji: "🖼️", text1: "Texto não verbal", text2: "Imagens, sons, símbolos visuais" },
      { emoji: "♻️", text1: "Texto misto", text2: "Combina texto verbal e não verbal" },
      { emoji: "💬", text1: "Pressuposto", text2: "Marca linguística que supõe algo" },
      { emoji: "🤔", text1: "Subentendido", text2: "Mensagem não explícita, deduzida pelo contexto" },
      { emoji: "🧾", text1: "Pontuação", text2: "Pode funcionar como marcador de subentendido" }
    ];

    const cardsData = [];
    contents.forEach(pair => {
      cardsData.push({ emoji: pair.emoji, content: pair.text1 });
      cardsData.push({ emoji: pair.emoji, content: pair.text2 });
    });

    const grid = document.getElementById("grid");
    const shuffled = cardsData.sort(() => 0.5 - Math.random());

    let firstCard = null;
    let lock = false;

    shuffled.forEach(data => {
      const card = document.createElement("div");
      card.className = "card";
      const inner = document.createElement("div");
      inner.className = "inner-card";

      const front = document.createElement("div");
      front.className = "front";
      front.textContent = data.emoji;

      const back = document.createElement("div");
      back.className = "back";
      back.textContent = data.content;

      inner.appendChild(front);
      inner.appendChild(back);
      card.appendChild(inner);
      grid.appendChild(card);

      card.addEventListener("click", () => {
        if (lock || card.classList.contains("flipped") || card.classList.contains("matched")) return;

        card.classList.add("flipped");

        if (!firstCard) {
          firstCard = card;
        } else {
          lock = true;
          setTimeout(() => {
            const isMatch =
              firstCard.querySelector(".back").textContent !== back.textContent &&
              firstCard.querySelector(".front").textContent === front.textContent;

            if (isMatch) {
              firstCard.classList.add("matched");
              card.classList.add("matched");
            } else {
              firstCard.classList.remove("flipped");
              card.classList.remove("flipped");
            }

            firstCard = null;
            lock = false;
          }, 800); // tempo suficiente para os dois textos aparecerem
        }
      });
    });
  </script>
</body>
</html>